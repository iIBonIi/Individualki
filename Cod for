#include <iostream>
#include <cmath>
#include <locale>

using namespace std;

double f(double x) {
    return x * x - 4 * x + 7;
}

int main() {
    // Настройка кодировки для корректного отображения русского текста
    setlocale(LC_ALL, "Russian");
    system("chcp 65001 > nul");

    double a, b, eps, l;

    // Исходные данные
    cout << "a = ";
    cin >> a;
    cout << "b = ";
    cin >> b;
    cout << "eps = ";
    cin >> eps;
    cout << "l = ";
    cin >> l;

    int k = 0;
    cout << "\nИтерация " << k << ": [" << a << ", " << b << "], len = " << (b - a) << endl;

    // Алгоритм дихотомии
    while (abs(b - a) >= l) {
        // Шаг 3: вычисление пробных точек
        double y = (a + b - eps) / 2.0;
        double z = (a + b + eps) / 2.0;
        double fy = f(y);
        double fz = f(z);

        // Шаг 4: сравнение и обновление границ
        if (fy < fz) {
            b = z; // Минимум слева
        }
        else {
            a = y; // Минимум справа
        }

        k++;
        cout << k << ") " << "[" << a << ", " << b << "], len = " << (b - a) << endl;
    }

    // Результат
    double x_min = (a + b) / 2.0;
    cout << "Интервал неопред. - [" << a << ", " << b << "]" << endl;
    cout << "Приближ. зн. мин. - x* = " << x_min << endl;
    cout << "f(x*) = " << f(x_min) << endl;
}
