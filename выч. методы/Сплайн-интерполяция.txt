#include <iostream>
#include <fstream>
#include <cmath>

using namespace std;

int main() {
    int n;
    cin >> n;

    double* x = new double[n];
    double* y = new double[n];
    for (int i = 0; i < n; ++i)
        cin >> x[i] >> y[i];

    double* h = new double[n - 1];
    for (int i = 0; i < n - 1; ++i)
        h[i] = x[i + 1] - x[i];

    double* alpha = new double[n - 1];
    double* beta = new double[n];
    double* a = new double[n];
    double* b = new double[n];
    double* c = new double[n];
    double* d = new double[n];

    for (int i = 1; i < n - 1; ++i) {
        alpha[i] = h[i - 1] / (h[i - 1] + h[i]);
        beta[i] = 3 * ((y[i + 1] - y[i]) / h[i] - (y[i] - y[i - 1]) / h[i - 1]);
    }

    c[0] = c[n - 1] = 0;
    for (int i = 1; i < n - 1; ++i) {
        double m = 1 - alpha[i] * (1 - alpha[i - 1]);
        c[i] = (beta[i] - alpha[i] * c[i - 1]) / m;
    }

    for (int i = n - 2; i > 0; --i)
        c[i] = c[i] - alpha[i] * c[i + 1];

    for (int i = 0; i < n - 1; ++i) {
        a[i] = y[i];
        d[i] = (c[i + 1] - c[i]) / (3 * h[i]);
        b[i] = (y[i + 1] - y[i]) / h[i] - h[i] * (2 * c[i] + c[i + 1]) / 3;
    }

    ofstream out("output.txt");
    for (int i = 0; i < n - 1; ++i)
        out << "S" << i << ": " << a[i] << " + " << b[i] << "(x-" << x[i] << ") + "
        << c[i] << "(x-" << x[i] << ")^2 + " << d[i] << "(x-" << x[i] << ")^3\n";

    delete[] x; delete[] y; delete[] h;
    delete[] alpha; delete[] beta;
    delete[] a; delete[] b; delete[] c; delete[] d;
}

4
0.0 1.0
1.0 2.0
2.0 3.0
3.0 4.0